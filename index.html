<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neo-Swiss | Kinetic Lab</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;900&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --paper: #F2F2F2;
            --ink: #080808;
            --swiss-red: #FF2400;
            --swiss-blue: #0033CC;
            --swiss-yellow: #FFD700;
            --grid-line: rgba(8, 8, 8, 0.1);
            --border-color: #080808;
        }

        html { scroll-behavior: smooth; }

        * { box-sizing: border-box; margin: 0; padding: 0; cursor: none; }

        body {
            background-color: var(--paper);
            color: var(--ink);
            font-family: 'Inter', Helvetica, Arial, sans-serif;
            overflow-x: hidden;
            font-feature-settings: "ss01", "ss02";
            user-select: none;
        }

        /* --- UTILS --- */
        .grain {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIj48ZmlsdGVyIGlkPSJnoiPjxmZVR1cmJ1bGVuY2UgdHlwZT0iZnJhY3RhbE5vaXNlIiBiYXNlRnJlcXVlbmN5PSIwLjY1IiBudW1PY3RhdmVzPSIzIiBzdGl0Y2hUaWxlcz0ic3RpdGNoIi8+PC9maWx0ZXI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsdGVyPSJ1cmwoI2cpIiBvcGFjaXR5PSIwLjA1Ii8+PC9zdmc+');
            pointer-events: none; z-index: 9999; opacity: 0.6;
        }
        #cursor {
            width: 20px; height: 20px; border: 1px solid var(--swiss-red);
            position: fixed; border-radius: 50%; z-index: 10000;
            pointer-events: none; transform: translate(-50%, -50%);
            transition: width 0.2s, height 0.2s, background 0.2s;
            mix-blend-mode: difference;
        }
        body:active #cursor { width: 10px; height: 10px; background: var(--swiss-red); }
        .mono { font-family: 'JetBrains Mono', monospace; font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.05em; }
        .massive { font-size: 12vw; font-weight: 900; letter-spacing: -0.06em; line-height: 0.8; text-transform: uppercase; }
        
        .layout-grid {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
            display: grid; grid-template-columns: repeat(4, 1fr);
            z-index: -1; pointer-events: none;
            border-left: 1px solid var(--grid-line);
        }
        .layout-grid div { border-right: 1px solid var(--grid-line); height: 100%; }

        /* --- HEADER & NAV --- */
        header {
            position: fixed; top: 0; width: 100%; padding: 1.5rem 2rem;
            display: grid; grid-template-columns: 1fr auto 1fr; 
            align-items: start;
            z-index: 1000; mix-blend-mode: difference; color: white;
            pointer-events: none; 
        }
        header > * { pointer-events: auto; } 

        .logo { font-weight: 900; font-size: 1.2rem; letter-spacing: -0.02em; justify-self: start; padding-top: 0.6rem; }
        
        /* TOP NAV DROPDOWN */
        .top-nav-container {
            position: relative; text-align: center; font-family: 'JetBrains Mono', monospace; padding-bottom: 30px;
        }
        .nav-trigger {
            border: 1px solid white; color: white;
            padding: 0.6rem 1.5rem; font-weight: 700; text-transform: uppercase;
            cursor: pointer; transition: 0.3s; letter-spacing: 1px;
            background: transparent; display: inline-block;
        }
        .nav-trigger:hover { background: white; color: black; }
        
        .nav-dropdown {
            position: absolute; top: 100%; left: 50%; transform: translateX(-50%);
            width: 220px; background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px);
            border: 1px solid var(--ink); opacity: 0; pointer-events: none;
            transition: opacity 0.2s ease, transform 0.2s ease;
            display: flex; flex-direction: column; overflow: hidden; margin-top: -15px;
        }
        .top-nav-container:hover .nav-dropdown { opacity: 1; transform: translateX(-50%) translateY(15px); pointer-events: all; }
        
        .nav-item {
            padding: 1rem; border-bottom: 1px solid rgba(0,0,0,0.1); color: black;
            cursor: pointer; transition: 0.2s; font-size: 0.85rem; font-weight: 500; text-align: left;
        }
        .nav-item:last-child { border-bottom: none; }
        .nav-item:hover { background: var(--swiss-red); color: white; padding-left: 1.5rem; }

        /* RIGHT SIDE CONTAINER */
        .header-right { 
            justify-self: end; display: flex; flex-direction: column; align-items: flex-end; gap: 1rem; 
        }
        .meta-block { text-align: right; display: flex; flex-direction: column; gap: 0.2rem; transition: opacity 0.3s ease; }
        .meta-block.hidden { opacity: 0; pointer-events: none; }

        /* RETURN BUTTON (Text Color Hover Only) */
        #global-back-btn {
            background: transparent; 
            border: 1px solid transparent; 
            padding: 0.6rem 1.5rem; 
            font-family: 'JetBrains Mono', monospace; font-weight: 700; font-size: 1rem;
            cursor: pointer; text-transform: uppercase; 
            color: white; margin: 0;
            opacity: 0; pointer-events: none;
            transition: color 0.3s ease;
        }
        #global-back-btn.visible { opacity: 1; pointer-events: auto; }
        #global-back-btn::before { content: '[ '; } 
        #global-back-btn::after { content: ' ]'; }
        
        /* NEW HOVER EFFECT: Text Color Only, No Box */
        #global-back-btn:hover { 
            background-color: transparent; 
            color: var(--swiss-red); /* High Contrast Red */
            mix-blend-mode: normal; /* Ensures color pops */
        }


        /* --- HERO --- */
        #main-container { transition: opacity 0.4s ease; }
        .hero {
            height: 100vh; width: 100%; display: flex; align-items: center; justify-content: center;
            perspective: 1500px; overflow: hidden; position: relative;
        }
        .scene {
            position: relative; width: 600px; height: 600px;
            transform-style: preserve-3d; transition: transform 0.1s linear;
            z-index: 10;
        }

        /* --- RICH BACKGROUND DECORATIONS (More Prominent) --- */
        .bg-deco { position: absolute; z-index: 0; pointer-events: none; transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1); }
        
        /* Increased Opacities for Prominence */
        .deco-matrix { top: 0; left: 0; width: 100%; height: 100%; background-image: radial-gradient(var(--ink) 1px, transparent 1px); background-size: 40px 40px; opacity: 0.15; }
        .deco-year { right: -2vw; bottom: 0; font-size: 30vw; font-weight: 900; color: var(--ink); opacity: 0.1; line-height: 0.7; font-family: 'Inter', sans-serif; letter-spacing: -0.05em; }
        
        .deco-cross { width: 20px; height: 20px; opacity: 0.6; }
        .deco-cross::before, .deco-cross::after { content: ''; position: absolute; background: var(--ink); }
        .deco-cross::before { width: 100%; height: 1px; top: 50%; }
        .deco-cross::after { height: 100%; width: 1px; left: 50%; }
        .cross-tl { top: 2rem; left: 2rem; } 
        .cross-tr { top: 2rem; right: 2rem; } 
        .cross-bl { bottom: 2rem; left: 2rem; } 
        .cross-br { bottom: 2rem; right: 2rem; }

        .deco-axis-y { top: 0; bottom: 0; left: 25%; width: 1px; background: var(--ink); opacity: 0.2; }
        .deco-axis-x { left: 0; right: 0; top: 75%; height: 1px; background: var(--ink); opacity: 0.2; }

        /* Swiss Elements */
        .deco-ruler-v {
            position: absolute; top: 10%; bottom: 10%; left: 6rem; width: 20px;
            background-image: linear-gradient(to bottom, var(--ink) 1px, transparent 1px);
            background-size: 100% 20px; opacity: 0.4; border-right: 1px solid var(--ink);
        }
        .deco-orbital {
            position: absolute; top: 50%; left: 50%; width: 85vh; height: 85vh;
            border: 1px dashed var(--ink); border-radius: 50%;
            transform: translate(-50%, -50%); opacity: 0.2;
            animation: slowRotate 60s linear infinite;
        }
        @keyframes slowRotate { from { transform: translate(-50%, -50%) rotate(0deg); } to { transform: translate(-50%, -50%) rotate(360deg); } }

        .deco-data {
            position: absolute; bottom: 6rem; left: 8rem;
            font-family: 'JetBrains Mono', monospace; font-size: 0.7rem; 
            color: var(--ink); opacity: 0.6; line-height: 1.6;
        }

        .deco-striped {
            position: absolute; top: 20%; right: 10%; width: 150px; height: 300px;
            background: repeating-linear-gradient(45deg, var(--ink), var(--ink) 1px, transparent 1px, transparent 10px);
            opacity: 0.15;
        }
        
        /* New Plus Signs */
        .deco-plus { position: absolute; font-size: 2rem; font-weight: 300; color: var(--ink); opacity: 0.5; font-family: 'Inter'; }
        .dp-1 { top: 15%; left: 10%; } .dp-2 { bottom: 15%; right: 10%; } .dp-3 { top: 80%; left: 20%; }

        /* Lines */
        .deco-line { position: absolute; background: var(--ink); opacity: 0.3; transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1); }
        .line-1 { top: 33%; left: 0; width: 100%; height: 1px; }
        .line-2 { top: 0; right: 33%; width: 1px; height: 100%; }
        .line-3 { top: 66%; left: 0; width: 50%; height: 1px; }

        /* --- MODIFIED STATE (Reaction) --- */
        .hero.modified .deco-matrix { background-image: radial-gradient(var(--swiss-blue) 1px, transparent 1px); opacity: 0.2; }
        .hero.modified .deco-year { color: var(--swiss-yellow); opacity: 0.2; transform: translateX(-20px); }
        
        .hero.modified .deco-plus { color: var(--swiss-red); transform: rotate(90deg); transition: transform 0.4s; opacity: 0.8; }
        .hero.modified .deco-ruler-v { border-color: var(--swiss-blue); background-image: linear-gradient(to bottom, var(--swiss-blue) 1px, transparent 1px); opacity: 0.6; }
        .hero.modified .deco-orbital { border-color: var(--swiss-yellow); border-style: solid; opacity: 0.4; animation-duration: 10s; }
        .hero.modified .deco-striped { background: repeating-linear-gradient(-45deg, var(--swiss-red), var(--swiss-red) 1px, transparent 1px, transparent 10px); opacity: 0.3; }
        
        .hero.modified .line-1 { top: 15%; background: var(--swiss-red); opacity: 0.6; }
        .hero.modified .line-2 { right: 15%; background: var(--swiss-blue); opacity: 0.6; }
        .hero.modified .line-3 { top: 85%; width: 100%; background: var(--swiss-yellow); opacity: 0.6; }


        /* DRAGGABLE LOGIC */
        .draggable {
            position: absolute; cursor: grab; top: 50%; left: 50%; 
            --tx: -50%; --ty: -50%; --tz: 0px;
            --rotX: 0deg; --rotY: 0deg;
            transform: translate(var(--tx), var(--ty)) translateZ(var(--tz));
            transition: box-shadow 0.3s, filter 0.3s, background-color 0.6s ease, border-color 0.6s ease, color 0.6s ease, -webkit-text-stroke 0.6s ease, border-radius 0.5s ease; 
        }
        .draggable:active { cursor: grabbing; }
        .draggable.smooth-reset {
            transition: transform 0.8s cubic-bezier(0.16, 1, 0.3, 1), background-color 0.8s ease, border-color 0.8s ease, color 0.8s ease, -webkit-text-stroke 0.8s ease, border-radius 0.8s ease;
        }

        /* MODIFIED STATE (3D) */
        .hero.modified .geo-circle { border-color: var(--swiss-red); background: rgba(255, 36, 0, 0.05); }
        .hero.modified .geo-square { background-color: var(--swiss-red); }
        .hero.modified .geo-square .mono { color: white !important; opacity: 1 !important; }
        .hero.modified .wireframe-box { border-color: var(--swiss-blue); border-width: 2px; }
        .hero.modified .geo-accent { background-color: var(--swiss-yellow); mix-blend-mode: normal; opacity: 0.9; }
        .hero.modified .geo-text { -webkit-text-stroke: 2px var(--swiss-blue); color: transparent; }

        /* GEOMETRY */
        .geo-circle { width: 550px; height: 550px; border: 1px solid var(--ink); border-radius: 50%; --tz: -100px; opacity: 0.8; }
        .effect-ripple { animation: rippleEffect 0.6s ease-out; }
        @keyframes rippleEffect { 
            0% { transform: translate(var(--tx), var(--ty)) translateZ(var(--tz)) scale(1); border-width: 1px; } 
            50% { transform: translate(var(--tx), var(--ty)) translateZ(var(--tz)) scale(1.2); border-width: 10px; opacity: 0; } 
            100% { transform: translate(var(--tx), var(--ty)) translateZ(var(--tz)) scale(1); border-width: 1px; opacity: 0.8; } 
        }

        .geo-square { width: 320px; height: 420px; background: var(--ink); --tz: 0px; display: flex; flex-direction: column; justify-content: space-between; padding: 2rem; }
        .effect-flip { animation: flipEffect 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards; }
        @keyframes flipEffect { 
            0% { transform: translate(var(--tx), var(--ty)) translateZ(var(--tz)) rotateY(0); } 
            100% { transform: translate(var(--tx), var(--ty)) translateZ(var(--tz)) rotateY(180deg); background-color: var(--ink); } 
        }
        .geo-square.effect-flip .mono { color: white !important; }

        .geo-accent { top: 40%; left: 60%; width: 240px; height: 240px; background: var(--swiss-blue); mix-blend-mode: multiply; --tz: 150px; }
        .effect-morph { animation: morphEffect 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; }
        @keyframes morphEffect {
            0% { transform: translate(var(--tx), var(--ty)) translateZ(var(--tz)) rotate(0); border-radius: 0; }
            100% { transform: translate(var(--tx), var(--ty)) translateZ(var(--tz)) rotate(90deg); border-radius: 50%; background-color: var(--swiss-yellow); mix-blend-mode: normal; }
        }

        .wireframe-box { top: 60%; left: 20%; width: 180px; height: 180px; border: 1px solid var(--swiss-red); --tz: 80px; transform: translate(var(--tx), var(--ty)) translateZ(var(--tz)) rotateY(var(--rotY, 45deg)) rotateX(var(--rotX, 0deg)); }
        .effect-spin { animation: spinViolent 0.5s linear; }
        @keyframes spinViolent { 
            0% { transform: translate(var(--tx), var(--ty)) translateZ(var(--tz)) rotateY(45deg) rotateZ(0); } 
            100% { transform: translate(var(--tx), var(--ty)) translateZ(var(--tz)) rotateY(45deg) rotateZ(360deg); } 
        }

        .geo-text { transform: translate(var(--tx), var(--ty)) translateZ(var(--tz)); --tz: 250px; color: var(--paper); -webkit-text-stroke: 1px var(--ink); white-space: nowrap; mix-blend-mode: normal; pointer-events: auto; }
        .effect-spacing { animation: textExplode 0.5s ease-out; }
        @keyframes textExplode { 0% { letter-spacing: -0.06em; } 50% { letter-spacing: 0.5em; opacity: 0; } 100% { letter-spacing: -0.06em; opacity: 1; } }

        /* --- RESET BUTTON --- */
        .reset-btn { position: absolute; bottom: 2rem; right: 2rem; border: 1px solid var(--ink); background: var(--paper); color: var(--ink); padding: 0.5rem 1rem; font-family: 'JetBrains Mono', monospace; font-size: 0.8rem; cursor: pointer; z-index: 200; text-transform: uppercase; font-weight: 700; transition: background 0.2s, color 0.2s; }
        .reset-btn:hover { background: var(--swiss-red); color: white; border-color: var(--swiss-red); }

        /* --- SCROLL ARROW --- */
        .scroll-arrow {
            position: absolute; bottom: 2rem; left: 50%; transform: translateX(-50%);
            cursor: pointer; z-index: 200; animation: bounce 2s infinite; padding: 20px;
        }
        .scroll-arrow svg { width: 40px; height: 40px; stroke: var(--ink); fill: none; stroke-width: 2; }
        @keyframes bounce { 0%, 20%, 50%, 80%, 100% {transform: translateX(-50%) translateY(0);} 40% {transform: translateX(-50%) translateY(-10px);} 60% {transform: translateX(-50%) translateY(-5px);} }

        /* --- GRID SECTION --- */
        .grid-section { display: grid; grid-template-columns: repeat(4, 1fr); border-top: 2px solid var(--border-color); position: relative; z-index: 10; background: var(--paper); align-items: stretch; }
        .grid-item { border-right: 1px solid var(--border-color); border-bottom: 1px solid var(--border-color); padding: 2rem; min-height: 450px; position: relative; transition: background 0.2s; overflow: hidden; cursor: none; display: flex; flex-direction: column; justify-content: flex-start; }
        .grid-item:hover { background: #fff; }
        .grid-item:hover h3 { transform: translateX(10px); }
        .grid-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; height: 30px; }
        .grid-content { display: flex; flex-direction: column; gap: 1rem; flex-grow: 1; }
        .grid-item h3 { font-size: 2.5vw; font-weight: 900; letter-spacing: -0.05em; line-height: 0.9; transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1); margin-top: 1rem; margin-bottom: auto; }
        .grid-item p { font-family: 'JetBrains Mono', monospace; font-size: 0.85rem; margin-top: 2rem; color: #555; }

        /* --- MORPH & SUBPAGE --- */
        #morph-layer { 
            position: fixed; z-index: 500; background: var(--paper); pointer-events: none; display: none; 
            transition: top 0.6s cubic-bezier(0.83, 0, 0.17, 1), 
                        left 0.6s cubic-bezier(0.83, 0, 0.17, 1),
                        width 0.6s cubic-bezier(0.83, 0, 0.17, 1),
                        height 0.6s cubic-bezier(0.83, 0, 0.17, 1),
                        background-color 0.6s ease;
        }
        .subpage { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 600; display: flex; flex-direction: column; padding: 6rem 4rem; opacity: 0; pointer-events: none; transition: opacity 0.1s ease; overflow-y: auto; }
        .subpage.active { opacity: 1; pointer-events: all; }
        .sub-content { max-width: 1400px; width: 100%; display: grid; grid-template-columns: 1.5fr 1fr; gap: 4rem; margin-top: 4rem; opacity: 0; transform: translateY(40px); transition: all 0.6s cubic-bezier(0.16, 1, 0.3, 1) 0.2s; padding-bottom: 4rem;}
        .subpage.active .sub-content { opacity: 1; transform: translateY(0); }
        .sub-title-block { grid-column: 1 / -1; border-bottom: 2px solid currentColor; padding-bottom: 2rem; margin-bottom: 1rem; }
        
        /* RETURN BUTTON (NO BORDER) */
        .back-btn { 
            position: fixed; top: 2rem; right: 2rem; 
            background: transparent; border: none; 
            font-family: 'JetBrains Mono', monospace; font-weight: 700; font-size: 1rem;
            cursor: pointer; text-transform: uppercase; color: inherit; 
            z-index: 2000; padding: 0.5rem 1.5rem; pointer-events: auto;
            transition: all 0.3s ease;
        }
        .back-btn::before { content: '[ '; } .back-btn::after { content: ' ]'; }
        .back-btn:hover { text-decoration: underline; }

        /* Entry Animations */
        .subpage.active .anim-type { animation: typing 1s steps(40, end) forwards; opacity: 0; animation-delay: 0.4s; display: block; border-right: 0.1em solid currentColor; width: fit-content; overflow: hidden; white-space: nowrap;}
        .subpage.active .anim-fade-code { opacity: 0; animation: fadeInSimple 0.5s forwards; animation-delay: 1.2s; }
        .subpage.active .anim-blur { filter: blur(20px); opacity: 0; transform: scale(0.98); animation: blurIn 1.2s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .subpage.active .anim-slide-up { transform: translateY(100%); opacity: 0; animation: slideUpBox 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .subpage.active .anim-velocity { opacity: 0; transform: translateX(-100px) skewX(-20deg); animation: velocitySnap 0.6s cubic-bezier(0.22, 1, 0.36, 1) forwards; }
        
        @keyframes typing { from { width: 0; opacity: 0; } to { width: 100%; opacity: 1; } }
        @keyframes fadeInSimple { to { opacity: 1; } }
        @keyframes blurIn { to { filter: blur(0); opacity: 1; transform: scale(1); } }
        @keyframes slideUpBox { from { transform: translateY(110%); opacity: 1; } to { transform: translateY(0); opacity: 1; } }
        @keyframes velocitySnap { to { opacity: 1; transform: translateX(0) skewX(0); } }

        /* Exit Animations */
        #page-analysis.exit-mode .sub-content { animation: exitTerminal 0.5s forwards; }
        @keyframes exitTerminal { 50% { transform: scaleY(0.02); opacity: 1; } 100% { transform: scaleY(0); opacity: 0; } }
        #page-synthesis.exit-mode .sub-content { animation: exitBlur 0.8s forwards; }
        @keyframes exitBlur { to { filter: blur(40px); opacity: 0; transform: scale(1.1); } }
        #page-construction.exit-mode .sub-content { animation: exitDrop 0.6s forwards; }
        @keyframes exitDrop { to { transform: translateY(100vh); opacity: 1; } }
        #page-dynamics.exit-mode .sub-content { animation: exitEject 0.4s forwards; }
        @keyframes exitEject { to { transform: translateX(100vw) skewX(-30deg); opacity: 0; } }

        .swiss-para { font-size: 1.5rem; line-height: 1.4; margin-bottom: 2rem; font-weight: 500; }
        .swiss-list { list-style: none; border-top: 2px solid currentColor; margin-top: 1rem; }
        .swiss-list li { padding: 1.5rem 0; border-bottom: 1px solid currentColor; display: flex; justify-content: space-between; font-family: 'JetBrains Mono', monospace; font-size: 0.9rem; }
        .deco-footer { grid-column: 1/-1; margin-top: 4rem; border-top: 1px solid currentColor; padding-top: 1rem; display: flex; justify-content: space-between; font-family: 'JetBrains Mono', monospace; font-size: 0.7rem; opacity: 0.5; }
        .deco-ruler { width: 100%; height: 10px; background-image: linear-gradient(90deg, currentColor 1px, transparent 1px); background-size: 20px 100%; margin-bottom: 2rem; opacity: 0.3; }

        @media (max-width: 1024px) {
            .grid-section { grid-template-columns: 1fr 1fr; }
            .grid-item h3 { font-size: 4vw; }
        }
        @media (max-width: 768px) {
            .grid-section { grid-template-columns: 1fr; }
            .sub-content { grid-template-columns: 1fr; gap: 2rem; }
            .massive { font-size: 18vw; }
            .subpage { padding: 2rem; }
            header { padding: 1rem; }
            .grid-item h3 { font-size: 3rem; }
            .deco-year { display: none; }
        }
    </style>
</head>
<body>

    <div class="grain"></div>
    <div id="cursor"></div>
    <div class="layout-grid"><div></div><div></div><div></div><div></div></div>
    <div id="morph-layer"></div>

    <header>
        <div class="logo">NEO/SWISS</div>
        <div class="top-nav-container">
            <div class="nav-trigger">[ SYSTEM NAV + ]</div>
            <div class="nav-dropdown">
                <div class="nav-item" onclick="expandItem(this, 'analysis', '#080808')">01. ANALYSIS</div>
                <div class="nav-item" onclick="expandItem(this, 'synthesis', '#0033CC')">02. SYNTHESIS</div>
                <div class="nav-item" onclick="expandItem(this, 'construction', '#FF2400')">03. CONSTRUCT</div>
                <div class="nav-item" onclick="expandItem(this, 'dynamics', '#F2F2F2')">04. DYNAMICS</div>
            </div>
        </div>

        <div class="header-right">
            <!-- GLOBAL RETURN BUTTON -->
            <button id="global-back-btn" onclick="goBack()">Return</button>
            <div class="meta-block mono" id="header-meta"><span>Lat: 47.3769</span><span>Lon: 8.5417</span><span>Fig. 2025</span></div>
        </div>
    </header>

    <main id="main-container">
        <section class="hero">
            <!-- BACKGROUND DECORATIONS -->
            <div class="bg-deco deco-matrix"></div>
            <div class="bg-deco deco-year">2025</div>
            
            <!-- RICH SWISS PATTERNS (Prominent Opacity) -->
            <div class="bg-deco deco-plus plus-tl">+</div>
            <div class="bg-deco deco-plus plus-tr">+</div>
            <div class="bg-deco deco-plus plus-bl">+</div>
            <div class="bg-deco deco-plus plus-br">+</div>
            <div class="bg-deco deco-ruler-v"></div>
            <div class="bg-deco deco-orbital"></div>
            <div class="bg-deco deco-data">SYSTEM_READY<br>GRID_12_COL<br>RENDER: OPEN_GL</div>
            <div class="bg-deco deco-striped"></div>

            <!-- INTERACTIVE LINES -->
            <div class="bg-deco deco-line line-1"></div>
            <div class="bg-deco deco-line line-2"></div>
            <div class="bg-deco deco-line line-3"></div>

            <div class="scene" id="scene">
                <div class="draggable geo-circle" data-z="-100" onmousedown="startDrag(event, this)"></div>
                <div class="draggable geo-square" data-z="0" onmousedown="startDrag(event, this)">
                    <span class="mono" style="color: #fff; opacity: 0.5;">REF_01</span>
                    <div style="border-top: 1px solid #555; padding-top: 1rem;">
                        <span class="mono" style="color: var(--swiss-red);">SYSTEM_ACTIVE</span>
                    </div>
                </div>
                <div class="draggable wireframe-box" data-z="80" onmousedown="startDrag(event, this)"></div>
                <div class="draggable geo-accent" data-z="150" onmousedown="startDrag(event, this)"></div>
                <div class="draggable geo-text massive" data-z="250" onmousedown="startDrag(event, this)">SYSTEM</div>
            </div>
            
            <div class="scroll-arrow" onclick="scrollToGrid()">
                <svg viewBox="0 0 24 24"><path d="M12 5v14M5 12l7 7 7-7"/></svg>
            </div>
            <button class="reset-btn" onclick="resetScene()">[ Reset View ]</button>
        </section>

        <section class="grid-section" id="grid-target">
            <div class="grid-item" onclick="expandItem(this, 'analysis', '#080808')">
                <div class="grid-header"><span class="mono">Fig. 01</span><span class="mono">[ + ]</span></div>
                <div class="grid-content"><h3>ANALYSIS</h3><p>Deconstruction of visual syntax. We strip away the decorative to reveal the structural.</p></div>
            </div>
            <div class="grid-item" onclick="expandItem(this, 'synthesis', '#0033CC')">
                <div class="grid-header"><span class="mono">Fig. 02</span><span class="mono">[ + ]</span></div>
                <div class="grid-content"><h3>SYNTHESIS</h3><p>Recombination of elemental forms. Chromatic integration of intuition and logic.</p></div>
            </div>
            <div class="grid-item" onclick="expandItem(this, 'construction', '#FF2400')">
                <div class="grid-header"><span class="mono">Fig. 03</span><span class="mono">[ + ]</span></div>
                <div class="grid-content"><h3>CONSTRUCT</h3><p>Architecture of information. Building habitable visual environments.</p></div>
            </div>
            <div class="grid-item" onclick="expandItem(this, 'dynamics', '#F2F2F2')">
                <div class="grid-header"><span class="mono">Fig. 04</span><span class="mono">[ + ]</span></div>
                <div class="grid-content"><h3>DYNAMICS</h3><p>Kinetic typography. Introducing time as the fourth dimension of design.</p></div>
            </div>
        </section>
    </main>

    <!-- SUBPAGES -->

    <div id="page-analysis" class="subpage" style="background: #080808; color: #00FF41;">
        <div class="sub-content">
            <div class="sub-title-block"><div class="deco-ruler"></div><div class="massive anim-type">DATA_GRID</div></div>
            <div style="font-family: 'JetBrains Mono'; border-top: 1px solid #333; padding-top: 1rem;">
                <p class="anim-fade-code swiss-para" style="color: #ccc;">We do not create; we uncover. The grid is not a constraintâ€”it is a map of possibilities.</p>
                <ul class="anim-fade-code swiss-list" style="color: #555;">
                    <li><span>GRID_SYSTEM</span> <span>MODULAR_12</span></li>
                    <li><span>TYPOGRAPHY</span> <span>SANS_SERIF_GROTESK</span></li>
                    <li><span>ALIGNMENT</span> <span>FLUSH_LEFT / RAGGED_RIGHT</span></li>
                    <li><span>PHOTOGRAPHY</span> <span>OBJECTIVE / B&W</span></li>
                </ul>
            </div>
            <div class="anim-fade-code" style="font-family: monospace; font-size: 0.8rem; color: #555;">> SYSTEM CHECK... OK<br>> RENDERING... 100%<br>> STATUS: PURITY ACHIEVED</div>
            <div class="deco-footer"><span>PAGE 01/04</span><span>NEO-SWISS SYSTEM</span></div>
        </div>
    </div>

    <div id="page-synthesis" class="subpage" style="background: var(--swiss-blue); color: #fff;">
        <div class="sub-content">
            <div class="sub-title-block"><div class="deco-ruler"></div><div class="massive anim-blur">UNION</div></div>
            <div class="anim-blur" style="border-top: 1px solid rgba(255,255,255,0.3); padding-top: 1rem; animation-delay: 0.3s;">
                <p class="swiss-para">Synthesis is the "Third Meaning." It is the collision of intent and execution. When the rigid grid meets organic intuition, a new visual language is born.</p>
                <ul class="swiss-list" style="color: rgba(255,255,255,0.7);">
                    <li><span>COLOR_MODE</span> <span>CMYK / RGB / SPOT</span></li>
                    <li><span>BLEND_MODE</span> <span>MULTIPLY / OVERPRINT</span></li>
                    <li><span>CONTRAST</span> <span>HIGH / DYNAMIC</span></li>
                </ul>
            </div>
            <div class="anim-blur" style="animation-delay: 0.6s;"><div style="width: 100%; height: 300px; background: radial-gradient(circle at center, rgba(255,255,255,0.8), transparent 70%); mix-blend-mode: overlay; border: 1px solid white; border-radius: 50%;"></div></div>
            <div class="deco-footer"><span>PAGE 02/04</span><span>NEO-SWISS SYSTEM</span></div>
        </div>
    </div>

    <div id="page-construction" class="subpage" style="background: var(--swiss-red); color: #080808;">
        <div class="sub-content">
            <div class="sub-title-block mask-box"><div class="deco-ruler" style="background-image: linear-gradient(90deg, #000 1px, transparent 1px);"></div><div class="massive anim-slide-up" style="color: white;">BUILD</div></div>
            <div class="mask-box" style="border-top: 2px solid #000; padding-top: 1rem;">
                <div class="anim-slide-up" style="animation-delay: 0.3s;">
                    <p class="swiss-para" style="font-weight: 700;">Design is architecture for information. We build habitable visual environments. Every line is a load-bearing wall.</p>
                    <ul class="swiss-list" style="color: #000; border-color: #000;">
                        <li><span>MATERIAL</span> <span>DIGITAL_INK</span></li>
                        <li><span>STRUCTURE</span> <span>GEOMETRIC / ASYMMETRIC</span></li>
                        <li><span>FOUNDATION</span> <span>MATHEMATICAL</span></li>
                    </ul>
                </div>
            </div>
            <div class="mask-box"><div class="anim-slide-up" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; animation-delay: 0.5s;"><div style="height: 150px; background: #000;"></div><div style="height: 150px; border: 4px solid #000;"></div></div></div>
            <div class="deco-footer" style="color: black; border-color: black;"><span>PAGE 03/04</span><span>NEO-SWISS SYSTEM</span></div>
        </div>
    </div>

    <div id="page-dynamics" class="subpage" style="background: var(--paper); color: var(--ink);">
        <div class="sub-content">
            <div class="sub-title-block"><div class="deco-ruler"></div><div class="massive anim-velocity" style="color: var(--swiss-blue);">KINETIC</div></div>
            <div class="anim-velocity" style="animation-delay: 0.2s; border-top: 2px solid var(--ink); padding-top: 1rem;">
                <p class="swiss-para">Static design is dead. The screen is a living surface. Friction, gravity, and velocity are now the primary tools.</p>
                <ul class="swiss-list" style="color: var(--swiss-red);">
                    <li><span>VELOCITY</span> <span>1200ms</span></li>
                    <li><span>EASING</span> <span>CUBIC-BEZIER(0.16, 1, 0.3, 1)</span></li>
                    <li><span>INTERACTION</span> <span>DRAG / DROP / HOVER</span></li>
                </ul>
            </div>
            <div class="anim-velocity" style="animation-delay: 0.4s;">
                <div style="font-size: 4rem; font-weight: 900; white-space: nowrap; overflow: hidden; opacity: 0.1; border-bottom: 2px solid var(--ink);">MOVE MOVE MOVE</div>
                <div style="margin-top:2rem; font-family: 'JetBrains Mono'; font-size: 0.8rem;">> INITIATING KINETIC SEQUENCE<br>> FRAME RATE: 60FPS</div>
            </div>
            <div class="deco-footer"><span>PAGE 04/04</span><span>NEO-SWISS SYSTEM</span></div>
        </div>
    </div>

    <script>
        // --- DRAG & INTERACTION ---
        let isDragging = false;
        let activeDragEl = null;
        let startX, startY, initialX, initialY;
        let clickThreshold = 5;

        function startDrag(e, el) {
            e.preventDefault();
            isDragging = true;
            activeDragEl = el;
            startX = e.clientX; startY = e.clientY;
            initialX = parseFloat(el.getAttribute('data-off-x')) || 0;
            initialY = parseFloat(el.getAttribute('data-off-y')) || 0;
            document.querySelector('.hero').classList.add('modified');
            document.addEventListener('mousemove', dragMove);
            document.addEventListener('mouseup', dragEnd);
        }

        function dragMove(e) {
            if (!isDragging || !activeDragEl) return;
            const dx = e.clientX - startX;
            const dy = e.clientY - startY;
            const currentX = initialX + dx;
            const currentY = initialY + dy;
            const z = activeDragEl.getAttribute('data-z');
            activeDragEl.style.setProperty('--tx', `calc(-50% + ${currentX}px)`);
            activeDragEl.style.setProperty('--ty', `calc(-50% + ${currentY}px)`);
            activeDragEl.style.setProperty('--tz', z + 'px');
            activeDragEl.setAttribute('data-current-x', currentX);
            activeDragEl.setAttribute('data-current-y', currentY);

            if (activeDragEl.classList.contains('wireframe-box')) {
                const rotY = 45 + (currentX * 0.2);
                const rotX = (currentY * -0.2);
                activeDragEl.style.setProperty('--rotY', rotY + 'deg');
                activeDragEl.style.setProperty('--rotX', rotX + 'deg');
            }
        }

        function dragEnd(e) {
            if (!activeDragEl) return;
            const distMoved = Math.sqrt(Math.pow(e.clientX - startX, 2) + Math.pow(e.clientY - startY, 2));
            if (distMoved < clickThreshold) {
                triggerClickEffect(activeDragEl);
            } else {
                const curX = activeDragEl.getAttribute('data-current-x');
                const curY = activeDragEl.getAttribute('data-current-y');
                activeDragEl.setAttribute('data-off-x', curX);
                activeDragEl.setAttribute('data-off-y', curY);
            }
            isDragging = false; activeDragEl = null;
            document.removeEventListener('mousemove', dragMove); document.removeEventListener('mouseup', dragEnd);
        }

        function triggerClickEffect(el) {
            el.classList.remove('effect-ripple', 'effect-flip', 'effect-spin', 'effect-spacing', 'effect-morph');
            void el.offsetWidth;
            if (el.classList.contains('geo-circle')) el.classList.add('effect-ripple');
            else if (el.classList.contains('geo-square')) el.classList.add('effect-flip');
            else if (el.classList.contains('wireframe-box')) el.classList.add('effect-spin');
            else if (el.classList.contains('geo-accent')) {
                el.classList.add('effect-morph');
            }
            else if (el.classList.contains('geo-text')) el.classList.add('effect-spacing');
        }

        function resetScene() {
            const hero = document.querySelector('.hero');
            hero.classList.remove('modified');
            const draggables = document.querySelectorAll('.draggable');
            draggables.forEach(el => {
                el.classList.add('smooth-reset');
                el.style.setProperty('--tx', '-50%');
                el.style.setProperty('--ty', '-50%');
                el.style.removeProperty('--tx'); el.style.removeProperty('--ty'); el.style.removeProperty('--tz');
                el.style.removeProperty('--rotX'); el.style.removeProperty('--rotY');
                el.style.mixBlendMode = '';
                el.setAttribute('data-off-x', 0); el.setAttribute('data-off-y', 0);
                el.setAttribute('data-current-x', 0); el.setAttribute('data-current-y', 0);
                el.classList.remove('effect-ripple', 'effect-flip', 'effect-spin', 'effect-spacing', 'effect-morph');
            });
            setTimeout(() => { draggables.forEach(el => el.classList.remove('smooth-reset')); }, 800);
        }

        function scrollToGrid() {
            const target = document.getElementById('grid-target');
            target.scrollIntoView({ behavior: 'smooth' });
        }

        const scene = document.getElementById('scene');
        document.addEventListener('mousemove', (e) => {
            if (isDragging || document.getElementById('morph-layer').style.display === 'block') return;
            const x = (e.clientX / window.innerWidth - 0.5) * 2;
            const y = (e.clientY / window.innerHeight - 0.5) * 2;
            scene.style.transform = `rotateX(${y * -20}deg) rotateY(${x * 20}deg)`;
        });

        const cursor = document.getElementById('cursor');
        document.addEventListener('mousemove', (e) => { cursor.style.left = e.clientX + 'px'; cursor.style.top = e.clientY + 'px'; });

        // --- ROBUST NAVIGATION & RETURN ---
        let activeSubpage = null;
        let originRect = null;

        function expandItem(element, pageId, color) {
            const morph = document.getElementById('morph-layer');
            const targetPage = document.getElementById(`page-${pageId}`);
            const returnBtn = document.getElementById('global-back-btn');

            if (activeSubpage) {
                if (activeSubpage === targetPage) return;
                activeSubpage.classList.remove('active');
                morph.style.backgroundColor = color;
                targetPage.classList.add('active');
                activeSubpage = targetPage;
            } else {
                if (element && element.getBoundingClientRect) {
                    originRect = element.getBoundingClientRect();
                } else {
                    originRect = { top: window.innerHeight/2, left: window.innerWidth/2, width: 0, height: 0 };
                }
                
                document.getElementById('header-meta').classList.add('hidden');
                returnBtn.classList.add('visible'); 

                targetPage.classList.remove('exit-mode');
                morph.style.transition = 'none'; 
                morph.style.display = 'block';
                morph.style.top = originRect.top + 'px'; 
                morph.style.left = originRect.left + 'px';
                morph.style.width = originRect.width + 'px'; 
                morph.style.height = originRect.height + 'px';
                morph.style.backgroundColor = color;

                void morph.offsetWidth;

                morph.style.transition = 'all 0.6s cubic-bezier(0.83, 0, 0.17, 1)';
                morph.style.top = '0'; morph.style.left = '0'; morph.style.width = '100vw'; morph.style.height = '100vh';

                setTimeout(() => { 
                    targetPage.classList.add('active'); 
                    activeSubpage = targetPage; 
                }, 400);
            }
        }

        function goBack() {
            if (!activeSubpage) return;
            const morph = document.getElementById('morph-layer');
            const returnBtn = document.getElementById('global-back-btn');
            
            document.getElementById('header-meta').classList.remove('hidden');
            returnBtn.classList.remove('visible'); 

            activeSubpage.classList.add('exit-mode');

            setTimeout(() => {
                activeSubpage.classList.remove('active');
                morph.style.backgroundColor = '#F2F2F2';

                if (originRect) {
                    morph.style.top = originRect.top + 'px';
                    morph.style.left = originRect.left + 'px';
                    morph.style.width = originRect.width + 'px';
                    morph.style.height = originRect.height + 'px';
                } else {
                    morph.style.opacity = 0;
                }

                setTimeout(() => {
                    morph.style.display = 'none';
                    morph.style.opacity = 1; 
                    activeSubpage.classList.remove('exit-mode');
                    activeSubpage = null;
                }, 600);
            }, 500);
        }
    </script>
</body>
</html>