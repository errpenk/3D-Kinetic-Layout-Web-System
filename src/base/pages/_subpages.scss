@use '../abstract/variables' as *;

.subpage {
  position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 600;
  display: flex; flex-direction: column; padding: 6rem 4rem;
  opacity: 0; pointer-events: none; transition: opacity 0.1s ease; overflow-y: auto;
  
  &.active { opacity: 1; pointer-events: all; }
  
  .sub-content {
    max-width: 1400px; width: 100%; display: grid; grid-template-columns: 1.5fr 1fr; gap: 4rem;
    margin-top: 4rem; opacity: 0; transform: translateY(40px);
    transition: all 0.6s $ease-swiss 0.2s;
  }
  &.active .sub-content { opacity: 1; transform: translateY(0); }
  
  .sub-title-block { grid-column: 1 / -1; border-bottom: 2px solid currentColor; padding-bottom: 2rem; margin-bottom: 1rem; }
  .swiss-para { font-size: 1.5rem; line-height: 1.4; margin-bottom: 2rem; font-weight: 500; }
  .swiss-list {
    list-style: none; border-top: 2px solid currentColor; margin-top: 1rem;
    li { padding: 1.5rem 0; border-bottom: 1px solid currentColor; display: flex; justify-content: space-between; font-family: $font-mono; }
  }
  .deco-footer { grid-column: 1/-1; margin-top: 4rem; border-top: 1px solid currentColor; padding-top: 1rem; display: flex; justify-content: space-between; font-family: $font-mono; opacity: 0.5; }
  .deco-ruler { width: 100%; height: 10px; background-image: linear-gradient(90deg, currentColor 1px, transparent 1px); background-size: 20px 100%; margin-bottom: 2rem; opacity: 0.3; }
}

// Animations
.subpage.active {
  .anim-type { animation: typing 1s steps(40, end) forwards; opacity: 0; animation-delay: 0.4s; overflow: hidden; white-space: nowrap; border-right: 0.1em solid; width: 0; }
  .anim-fade-code { opacity: 0; animation: fadeInSimple 0.5s forwards; animation-delay: 1.2s; }
  .anim-blur { filter: blur(20px); opacity: 0; transform: scale(0.98); animation: blurIn 1.2s $ease-swiss forwards; }
  .anim-slide-up { transform: translateY(100%); opacity: 0; animation: slideUpBox 0.8s $ease-swiss forwards; }
  .anim-velocity { opacity: 0; transform: translateX(-100px) skewX(-20deg); animation: velocitySnap 0.6s cubic-bezier(0.22, 1, 0.36, 1) forwards; }
}

// Delays
.delay-1 { animation-delay: 0.3s !important; }
.delay-2 { animation-delay: 0.6s !important; }

@keyframes typing { to { width: 100%; opacity: 1; } }
@keyframes fadeInSimple { to { opacity: 1; } }
@keyframes blurIn { to { filter: blur(0); opacity: 1; transform: scale(1); } }
@keyframes slideUpBox { to { transform: translateY(0); opacity: 1; } }
@keyframes velocitySnap { to { opacity: 1; transform: translateX(0) skewX(0); } }

// Exit Animations
.subpage.exit-mode .sub-content { animation: fadeOut 0.5s forwards; }
@keyframes fadeOut { to { opacity: 0; transform: scale(0.95); } }

// Page Specifics
.analysis-theme { background: #080808; color: #00FF41; }
.synthesis-theme { background: $swiss-blue; color: #fff; }
.construction-theme { background: $swiss-red; color: #080808; .mask-box { overflow: hidden; } }
.dynamics-theme { background: $paper; color: $ink; }

.graphic-circle { width: 100%; height: 300px; background: radial-gradient(circle, rgba(255,255,255,0.8), transparent 70%); border: 1px solid white; border-radius: 50%; mix-blend-mode: overlay; }
.grid-preview { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; div { height: 150px; background: #000; &:last-child { background: transparent; border: 4px solid #000; } } }
.move-text { font-size: 4rem; font-weight: 900; white-space: nowrap; overflow: hidden; opacity: 0.1; border-bottom: 2px solid $ink; }
